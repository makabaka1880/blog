<script setup lang="ts">
const props = defineProps<{
    modelValue: boolean;
    disabled?: boolean;
}>();

const emit = defineEmits<{
    (e: "update:modelValue", value: boolean): void;
    (e: "toggle", value: boolean): void;
}>();

const toggle = () => {
    if (props.disabled) return;
    const next = !props.modelValue;
    emit("update:modelValue", next);
    emit("toggle", next);
};
</script>

<template>
    <button
        class="play-pause-toggle"
        type="button"
        :disabled="disabled"
        :aria-pressed="modelValue"
        :aria-label="modelValue ? 'Pause' : 'Play'"
        @click="toggle"
    >
        <svg
            v-if="modelValue"
            width="107"
            height="172"
            viewBox="0 0 107 172"
            xmlns="http://www.w3.org/2000/svg"
        >
            <g fill="currentColor" fill-rule="nonzero">
                <path
                    d="M15.5792685,171.322962 C20.0864783,171.322962 23.8179907,169.885881 26.7738058,167.011718 C29.7296209,164.137555 31.2075284,160.544852 31.2075284,156.233608 L31.2075284,15.1383458 C31.2075284,10.7944408 29.7296209,7.18540686 26.7738058,4.31124412 C23.8179907,1.43708137 20.0864783,0 15.5792685,0 C11.1047197,0 7.38953774,1.43708137 4.43372264,4.31124412 C1.47790755,7.18540686 0,10.7944408 0,15.1383458 L0,156.233608 C0,160.544852 1.47790755,164.137555 4.43372264,167.011718 C7.38953774,169.885881 11.1047197,171.322962 15.5792685,171.322962 Z M90.7320921,171.322962 C95.2393018,171.322962 98.9708143,169.885881 101.926629,167.011718 C104.882444,164.137555 106.360352,160.544852 106.360352,156.233608 L106.360352,15.1383458 C106.360352,10.7944408 104.882444,7.18540686 101.926629,4.31124412 C98.9708143,1.43708137 95.2393018,0 90.7320921,0 C86.2575433,0 82.5423613,1.43708137 79.5865462,4.31124412 C76.6307311,7.18540686 75.1528236,10.7944408 75.1528236,15.1383458 L75.1528236,156.233608 C75.1528236,160.544852 76.6307311,164.137555 79.5865462,167.011718 C82.5423613,169.885881 86.2575433,171.322962 90.7320921,171.322962 Z"
                />
            </g>
        </svg>
        <svg
            v-else
            width="111"
            height="123"
            viewBox="0 0 111 123"
            xmlns="http://www.w3.org/2000/svg"
        >
            <g fill="currentColor" fill-rule="nonzero">
                <path
                    d="M11.523291,122.64074 C13.0597298,122.64074 14.5797068,122.393813 16.0832219,121.899957 C17.586737,121.406102 19.2713324,120.610446 21.1370081,119.51299 L100.548945,73.4856731 C103.599874,71.7077939 105.899045,69.8915037 107.446458,68.0368026 C108.993871,66.1821015 109.767578,63.9378034 109.767578,61.3039083 C109.767578,58.6700132 108.993871,56.4312024 107.446458,54.5874758 C105.899045,52.7437492 103.599874,50.9439209 100.548945,49.1879909 L21.1370081,3.09482673 C19.2713324,2.0412687 17.586737,1.26207473 16.0832219,0.757244839 C14.5797068,0.252414946 13.0597298,0 11.523291,0 C8.38456605,0 5.67933629,1.14135454 3.40760178,3.42406362 C1.13586726,5.7067727 0,8.85647225 0,12.8731623 L0,109.734654 C0,113.773293 1.13586726,116.933968 3.40760178,119.216677 C5.67933629,121.499386 8.38456605,122.64074 11.523291,122.64074 Z"
                />
            </g>
        </svg>
    </button>
</template>

<style lang="scss" scoped>
.play-pause-toggle {
    appearance: none;
    border: none;
    background: none;
    padding: 0;
    cursor: pointer;
    color: var(--color-primary, #3d4888);
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.play-pause-toggle:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

svg {
    display: block;
    width: 1.25rem;
    height: 1.25rem;
}
</style>
